<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Souha Assurance - Demande de proposition d'assurance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'souha-blue': '#0088b9',
                        'souha-red': '#ff3c38',
                    }
                }
            }
        }
    </script>
    <script>
        // Mapping of locations to WhatsApp numbers
        const locationWhatsappNumbers = {
            'niamey': '22792767650',
            'tillabery': '22796330012',
            'say': '22797888488',
            'ouallam': '22799367373',
            'torodi': '22792767650',
            'malbaza': '22792767650',
            'gaya': '22792767650'
        };
    </script>
    <style>
        .fade-in {
            animation: fadeIn 1s ease-in-out forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .slide-in-right {
            animation: slideInRight 1s ease-in-out forwards;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-in-left {
            animation: slideInLeft 1s ease-in-out forwards;
        }
        
        @keyframes slideInLeft {
            from { transform: translateX(-100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .zoom-in {
            animation: zoomIn 1s ease-in-out forwards;
        }
        
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 9999;
            transition: opacity 0.5s ease-in-out;
        }
        
        .loading-logo {
            width: 150px;
            height: 150px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.95); }
            50% { transform: scale(1.05); }
            100% { transform: scale(0.95); }
        }

        .form-section {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Loading Screen -->
    <div class="loading" id="loadingScreen">
        <div class="loading-logo">
            <img src="image/Assurance.png" alt="Logo Souha Assurance" class="w-48">
            <p class="mt-4 text-xl font-bold text-souha-blue">SOUHA ASSURANCE</p>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <div class="w-12 h-12 mr-3">
                    <img src="image/Assurance.png" alt="Logo Souha Assurance" class="w-full h-full object-contain">
                </div>
                <h1 class="text-2xl font-bold text-souha-blue">SOUHA ASSURANCE</h1>
            </div>
            <nav class="hidden md:block">
                <ul class="flex space-x-6">
                    <li><a href="index.html" class="text-gray-600 font-medium hover:text-souha-blue transition-colors">Accueil</a></li>
                    <li><a href="devis.html" class="text-souha-blue font-medium hover:text-souha-red transition-colors">Demande de proposition d'assurance</a></li>
                    <li><a href="contact.html" class="text-gray-600 font-medium hover:text-souha-blue transition-colors">Contact</a></li>
                    <li><a href="a_propos.html" class="text-gray-600 font-medium hover:text-souha-blue transition-colors">A propos</a></li>
                </ul>
            </nav>
            <button class="md:hidden text-souha-blue" id="mobileMenuButton">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>
        <div class="md:hidden hidden bg-white w-full" id="mobileMenu">
            <ul class="px-4 py-2">
                <li class="py-2"><a href="index.html" class="text-gray-600 font-medium">Accueil</a></li>
                <li class="py-2"><a href="devis.html" class="text-souha-blue font-medium">Demande de proposition d'assurance</a></li>
                <li class="py-2"><a href="contact.html" class="text-gray-600 font-medium">Contact</a></li>
                <li class="py-2"><a href="a_propos.html" class="text-gray-600 font-medium">A propos</a></li>
            </ul>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12">
        <!-- Page Title -->
        <div class="text-center mb-12 form-section" id="pageTitle">
            <h1 class="text-3xl md:text-4xl font-bold text-souha-blue mb-4">Demande de proposition d'assurance Assurance Auto</h1>
            <p class="text-gray-600 max-w-2xl mx-auto">Remplissez ce formulaire pour recevoir rapidement un devis personnalisé d'assurance automobile adapté à vos besoins spécifiques et votre véhicule.</p>
        </div>

        <!-- Form Section -->
        <div class="bg-white rounded-lg shadow-lg p-6 md:p-8 max-w-4xl mx-auto form-section" id="formSection">
            <form id="devisForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Section: Informations personnelles -->
                <div class="col-span-full mb-6">
                    <h2 class="text-xl font-semibold text-souha-blue mb-4 pb-2 border-b">Informations personnelles</h2>
                </div>

                <div class="space-y-4">
                    <div>
                        <label for="nom" class="block text-gray-700 font-medium mb-1">Nom <span class="text-souha-red">*</span></label>
                        <input type="text" id="nom" name="nom" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                    </div>
                </div>

                <div class="space-y-4">
                    <div>
                        <label for="prenom" class="block text-gray-700 font-medium mb-1">Prénom <span class="text-souha-red">*</span></label>
                        <input type="text" id="prenom" name="prenom" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                    </div>
                </div>

                <div>
                    <label for="email" class="block text-gray-700 font-medium mb-1">Email</label>
                    <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <div>
                    <label for="telephone" class="block text-gray-700 font-medium mb-1">Téléphone <span class="text-souha-red">*</span></label>
                    <input type="tel" id="telephone" name="telephone" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <div class="col-span-full">
                    <label for="localite" class="block text-gray-700 font-medium mb-1">Localité <span class="text-souha-red">*</span></label>
                    <select id="loclite" name="localite" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                        <option value="">Sélectionnez une localite</option>
                        <option value="Niamey">Niamey</option>
                        <option value="Tillabery">Tillabery</option>
                        <option value="Say">Say</option>
                        <option value="Torodi">Torodi</option>
                        <option value="Ouallam">Ouallam</option>
                        <option value="Malbaza">Malbaza</option>
                        <option value="Gaya">Gaya</option>
                    </select>
                </div>

                <!-- Section: Informations du véhicule -->
                <div class="col-span-full mb-6 mt-6">
                    <h2 class="text-xl font-semibold text-souha-blue mb-4 pb-2 border-b">Informations du véhicule (sur la carte grise)</h2>
                </div>

                <div>
                    <label for="marque" class="block text-gray-700 font-medium mb-1">Nom sur la carte grise <span class="text-souha-red">*</span></label>
                    <input type="text" id="nomcarte" name="nomcarte" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <div>
                    <label for="typeVehicule" class="block text-gray-700 font-medium mb-1">Type de véhicule <span class="text-souha-red">*</span></label>
                    <select id="typeVehicule" name="typeVehicule" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                        <option value="">Sélectionnez une option</option>
                        <option value="voiture">Voiture</option>
                        <option value="moto">Moto</option>
                        <option value="moto">Tricycle</option>
                    </select>
                </div>

                <div>
                    <label for="marque" class="block text-gray-700 font-medium mb-1">Marque du véhicule <span class="text-souha-red">*</span></label>
                    <input type="text" id="marque" name="marque" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <div>
                    <label for="numeroChassis" class="block text-gray-700 font-medium mb-1">Immatriculation/Numéro de châssis <span class="text-souha-red">*</span></label>
                    <input type="text" id="numeroChassis" name="numeroChassis" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <div>
                    <label for="genre" class="block text-gray-700 font-medium mb-1">Genre <span class="text-souha-red">*</span></label>
                    <select id="genre" name="genre" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                        <option value="">Sélectionnez une option</option>
                        <option value="VP">VP</option>
                        <option value="Camionnette">Camionnette</option>
                        <option value="Camion">Camion</option>
                        <option value="Faba Faba">Faba Faba</option>
                        <option value="Taxi">Taxi</option>
                        <option value="Moto">Moto</option>
                    </select>
                </div>

                <div>
                    <label for="carburant" class="block text-gray-700 font-medium mb-1">Carburant <span class="text-souha-red">*</span></label>
                    <select id="carburant" name="carburant" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                        <option value="">Sélectionnez une option</option>
                        <option value="essence">Essence</option>
                        <option value="gazoil">Gazoil</option>
                    </select>
                </div>

                <div>
                    <label for="puissanceFiscale" class="block text-gray-700 font-medium mb-1">Puissance fiscale <span class="text-souha-red">*</span></label>
                    <input type="number" id="puissanceFiscale" name="puissanceFiscale" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue">
                </div>

                <!-- Section: Informations complémentaires -->
                <div class="col-span-full mb-6 mt-6">
                    <h2 class="text-xl font-semibold text-souha-blue mb-4 pb-2 border-b">Informations complémentaires</h2>
                </div>

                <div class="col-span-full">
                    <label for="informationsComplementaires" class="block text-gray-700 font-medium mb-1">Autres informations ou questions</label>
                    <textarea id="informationsComplementaires" name="informationsComplementaires" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-souha-blue"></textarea>
                </div>

                <!-- Submit Button -->
                <div class="col-span-full mt-6 text-center">
                    <button type="submit" id="submitButton" class="bg-souha-blue hover:bg-souha-red text-white font-medium py-2 px-8 rounded-md transition-colors duration-300 shadow-md transform hover:scale-105">
                        Envoyer ma Demande de proposition d'assurance
                    </button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Souha Assurance</h3>
                    <p class="text-gray-400 mb-4">Votre partenaire de confiance pour toutes vos assurances automobiles.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z" />
                            </svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z" />
                            </svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M16.98 0a6.9 6.9 0 0 1 5.08 1.98A6.94 6.94 0 0 1 24 7.02v9.96c0 2.08-.68 3.87-1.98 5.13A7.14 7.14 0 0 1 16.94 24H7.06a7.06 7.06 0 0 1-5.03-1.89A6.96 6.96 0 0 1 0 16.94V7.02C0 2.8 2.8 0 7.02 0h9.96zm.05 2.23H7.06c-1.45 0-2.7.43-3.53 1.25a4.82 4.82 0 0 0-1.3 3.54v9.92c0 1.5.43 2.7 1.3 3.58a5 5 0 0 0 3.53 1.25h9.88a5 5 0 0 0 3.53-1.25 4.73 4.73 0 0 0 1.4-3.54V7.02a5 5 0 0 0-1.3-3.49 4.82 4.82 0 0 0-3.54-1.3zM12 5.76c3.39 0 6.2 2.8 6.2 6.2a6.2 6.2 0 0 1-12.4 0 6.2 6.2 0 0 1 6.2-6.2zm0 2.22a3.99 3.99 0 0 0-3.97 3.97A3.99 3.99 0 0 0 12 15.92a3.99 3.99 0 0 0 3.97-3.97A3.99 3.99 0 0 0 12 7.98zm6.44-3.77a1.4 1.4 0 1 1 0 2.8 1.4 1.4 0 0 1 0-2.8z" />
                            </svg>
                        </a>
                    </div>
                </div>
                
                <!-- Useful Links -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Liens Utiles</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">Accueil</a></li>
                        <li><a href="devis.html" class="text-gray-400 hover:text-white transition-colors">Demande de proposition d'assurance</a></li>
                        <li><a href="contact.html" class="text-gray-400 hover:text-white transition-colors">Contact</a></li>
                        <li><a href="a_propos.html" class="text-gray-400 hover:text-white transition-colors">A propos</a></li>
                    </ul>
                </div>
                
                <!-- Services -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Nos Services</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Assurance Auto</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Assurance Habitation</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Assurance Santé</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Assurance Vie</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Assurance Voyage</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div>
                    <h3 class="text-xl font-bold mb-4">Contact</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                            </svg>
                            <span class="text-gray-400">Grand Marche, Niamey-Niger</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                            </svg>
                            <span class="text-gray-400">+227 92 76 76 50</span>
                        </li>
                        <li class="flex items-start">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <span class="text-gray-400">contact@souha-assurance.com</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="mt-12 pt-8 border-t border-gray-700">
            <div class="container mx-auto px-4 text-center">
                <p class="text-gray-400">&copy; 2023 Souha Assurance. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Loading Screen
window.addEventListener('load', function() {
    setTimeout(function() {
        document.getElementById('loadingScreen').style.opacity = '0';
        setTimeout(function() {
            document.getElementById('loadingScreen').style.display = 'none';
        }, 500);
        
        // Start animations after loading
        animateElements();
    }, 1000);
});

// Mobile Menu Toggle
document.getElementById('mobileMenuButton').addEventListener('click', function() {
    const mobileMenu = document.getElementById('mobileMenu');
    if (mobileMenu.classList.contains('hidden')) {
        mobileMenu.classList.remove('hidden');
    } else {
        mobileMenu.classList.add('hidden');
    }
});

// Animation function
function animateElements() {
    // Page Title
    setTimeout(() => {
        document.getElementById('pageTitle').classList.add('fade-in');
        document.getElementById('pageTitle').style.opacity = '1';
    }, 200);
    
    // Form Section
    setTimeout(() => {
        document.getElementById('formSection').classList.add('fade-in');
        document.getElementById('formSection').style.opacity = '1';
    }, 500);
}

// Form submission
document.getElementById('devisForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form data
    const formData = new FormData(this);
    let message = "Demande de proposition d'assurance ASSURANCE AUTO\n\n";
    
    // Informations personnelles
    message += "INFORMATIONS PERSONNELLES:\n";
    message += `Nom: ${formData.get('nom')}\n`;
    message += `Prénom: ${formData.get('prenom')}\n`;
    message += `Email: ${formData.get('email')}\n`;
    message += `Téléphone: ${formData.get('telephone')}\n\n`;
    
    // Informations du véhicule
    message += "INFORMATIONS DU VÉHICULE:\n";
    message += `Nom sur la carte grise: ${formData.get('nomcarte')}\n`;
    message += `Type de véhicule: ${formData.get('typeVehicule')}\n`;
    message += `Marque: ${formData.get('marque')}\n`;
    message += `Immatriculation/Numéro de châssis: ${formData.get('numeroChassis')}\n`;
    message += `Genre: ${formData.get('genre')}\n`;
    message += `Carburant: ${formData.get('carburant')}\n`;
    message += `Puissance fiscale: ${formData.get('puissanceFiscale')}\n\n`;
    
    // Informations complémentaires
    const infosComplementaires = formData.get('informationsComplementaires');
    if (infosComplementaires) {
        message += "INFORMATIONS COMPLÉMENTAIRES:\n";
        message += `${infosComplementaires}\n`;
    }
    
    // Désactiver le bouton de soumission et afficher un message de chargement
    const submitButton = document.getElementById('submitButton');
    const originalButtonText = submitButton.innerHTML;
    submitButton.disabled = true;
    submitButton.innerHTML = '<span class="animate-pulse">Envoi en cours...</span>';
    
    // Récupérer la localité (prévu pour être ajouté au formulaire)
    const localite = formData.get('localite') ? formData.get('localite').toLowerCase().trim() : 'niamey';
    
    // Sélectionner le numéro WhatsApp en fonction de la localité
    const whatsappNumber = locationWhatsappNumbers[localite] || locationWhatsappNumbers['niamey'];
    
    // Encoder le message pour l'URL
    const encodedMessage = encodeURIComponent(message);
    
    // Créer l'URL WhatsApp
    const whatsappURL = `https://api.whatsapp.com/send?phone=${whatsappNumber}&text=${encodedMessage}`;
    
    // Rediriger vers WhatsApp après un court délai
    setTimeout(function() {
        // Réinitialiser le bouton
        submitButton.disabled = false;
        submitButton.innerHTML = originalButtonText;
        
        // Ouvrir WhatsApp dans un nouvel onglet
        window.open(whatsappURL, '_blank');
        
        // Afficher un message de succès
        alert(`Vous allez être redirigé vers WhatsApp (${localite.toUpperCase()}) pour envoyer votre demande.`);
        
        // Réinitialiser le formulaire
        document.getElementById('devisForm').reset();
        
    }, 1000); // Délai court avant redirection
    
    console.log(message); // Pour déboguer
});

// Validation en temps réel des champs
const requiredFields = document.querySelectorAll('input[required], select[required]');
requiredFields.forEach(field => {
    field.addEventListener('blur', function() {
        if (!field.value) {
            field.classList.add('border-souha-red');
        } else {
            field.classList.remove('border-souha-red');
        }
    });
});

document.getElementById('telephone').addEventListener('blur', function() {
    // Nettoyer d'abord le numéro (supprimer espaces, tirets, points)
    let cleanedNumber = this.value.replace(/[\s.-]/g, '');
    
    // Vérifier si le numéro est au format nigérien (8 chiffres)
    const nigerFormat = /^[1-9]\d{7}$/;
    
    // Vérifier si le numéro contient déjà un préfixe international
    const hasInternationalPrefix = /^(\+227|00227|227)/.test(cleanedNumber);
    
    if (cleanedNumber && nigerFormat.test(cleanedNumber) && !hasInternationalPrefix) {
        // Ajouter automatiquement le préfixe 227 si c'est un numéro à 8 chiffres sans préfixe
        cleanedNumber = '227' + cleanedNumber;
        // Mettre à jour la valeur du champ avec le numéro formaté
        this.value = cleanedNumber;
        this.classList.remove('border-souha-red');
    } else if (cleanedNumber) {
        // Vérifier si le format est correct (avec préfixe déjà présent ou ajouté)
        const fullPhoneRegex = /^(?:(?:\+|00)227|227)[1-9]\d{7}$/;
        
        if (!fullPhoneRegex.test(cleanedNumber)) {
            this.classList.add('border-souha-red');
            // Option: afficher un message d'erreur
            console.log('Format de numéro invalide');
        } else {
            this.classList.remove('border-souha-red');
        }
    }
});
    </script>
</body>
</html>
